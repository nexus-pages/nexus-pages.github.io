(this["webpackJsonptorn-trade-receipt-app"]=this["webpackJsonptorn-trade-receipt-app"]||[]).push([[0],{167:function(e,t,a){e.exports=a(311)},196:function(e,t){},198:function(e,t){},209:function(e,t){},211:function(e,t){},238:function(e,t){},240:function(e,t){},241:function(e,t){},247:function(e,t){},249:function(e,t){},267:function(e,t){},269:function(e,t){},281:function(e,t){},284:function(e,t){},311:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),o=a.n(r),l=a(23),c=a.n(l),i=(a(172),a(24)),s=a(25),u=a(21),m=a(28),p=a(27),d=a(313),E=a(314),f=a(315),y=a(316),h=a(317),b=a(323),g=a(318),S=a(319),O=a(320),v=a(26),I=a(165),T=a(166),C=a(34),_=a.n(C),j=function(e,t){return{type:"MARKET_ITEMS_FETCH_SUCCESS",payload:{loading:!1,itemsStore:Object(n.a)({},e),itemNameList:Object(I.a)(t)}}},P=function(){return{type:"MARKET_ITEMS_FETCH_STARTED",payload:{loading:!0}}},D=function(e){return{type:"API_CALL_FAILED",payload:{error:e,loading:!1}}};var A=function(e){localStorage.getItem("debug")&&console.log(e)},R=function(e,t,a,n,r,o){return function(l){var c=a.idByName[t],i="https://api.torn.com/market/"+c+"?selections=itemmarket&key="+e,s="https://api.torn.com/market/"+c+"?selections=bazaar&key="+e,u=n.props.priceMap[t];if(0===u||r){A("prices to be fetched from the API");var m=_.a.get(i),p=_.a.get(s);Promise.all([m,p]).then((function(e){var a=e[0].data.itemmarket,n=e[1].data.bazaar,r=0,c=0;null!==a&&a.length>0&&null!==a[0].cost&&(r=a[0].cost),null!==n&&n.length>0&&null!==n[0].cost&&(c=n[0].cost),w(t,c<r?c:r,l,o)})).catch((function(e){console.error(JSON.stringify(e)),e.forEach((function(e){l(N(e))}))}))}else A("price for "+t+" is already fetched, value = "+u),w(t,u,l,o)}},N=function(e){return{type:"API_CALL_FAILED",payload:{error:e,loading:!1}}};function w(e,t,a,n){a({type:"MARKET_PRICE_FETCHED",payload:{price:t,itemName:e}}),n()}var M=function(e){return{type:"YOUR_NAME_UPDATED",payload:{loading:!1,yourName:e}}},x=function(e){return{type:"API_CALL_FAILED",payload:{error:e,loading:!1}}},k=a(160);function L(){return k.randomBytes(16).toString("base64")}function U(e,t,a){return e.map((function(e){return t.includes(e.name)&&(e.mPrice=a[e.name],e.tPrice=e.qty*e.mPrice),Object(n.a)({},e)}))}function K(e,t,a){var n=0;return e.forEach((function(e){t.includes(e.name)&&(n+=a[e.name]*e.qty)})),n}function F(e,t,a){var n=e[0];a.state.rows.forEach((function(e){e.id===t&&(e.name=n,e.mPrice=0,e.tPrice=0)})),"RECEIVED"===a.state.type&&a.props.updateReceivedItemsData(a.props.apiKey,n,a.props.itemsStore,a,(function(){Y(a)})),"SENT"===a.state.type&&a.props.updateSentItemsData(a.props.apiKey,n,a.props.itemsStore,a,(function(){B(a)}))}function B(e){var t=K(e.state.rows,e.props.itemNameList,e.props.priceMap),a=U(e.state.rows,e.props.itemNameList,e.props.priceMap);q(e,t,a),e.props.pushSentItemDetails(a,t),e.props.pushTradeSummary(e.props.received.total-t)}function Y(e){var t=K(e.state.rows,e.props.itemNameList,e.props.priceMap),a=U(e.state.rows,e.props.itemNameList,e.props.priceMap);q(e,t,a),e.props.pushReceivedItemsDetail(a,t),e.props.pushTradeSummary(t-e.props.sent.total)}function q(e,t,a){e.setState(Object(n.a)(Object(n.a)({},e.state),{},{totalPrice:t,rows:a}))}var W=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).REFRESH_INTERVAL=3e3,r.updateApiKey=function(e){r.setState({apiKey:e.target.value}),r.props.updateApiKeyInReduxStore(e.target.value)},r.saveApiKeyAndInit=function(){localStorage.getItem("MARKET_ITEMS")?A("item details already present"):(A("item details not found in cache; thus, calling the items api now!"),r.props.updateMarketItemDetailsInReduxStore(r.state.apiKey),r.props.updateUserNameInReduxStore(r.state.apiKey))},r.refreshPrices=function(){r.setState(Object(n.a)(Object(n.a)({},r.state),{},{isRefreshing:!0}),(function(){var e=Object(u.a)(r),t=0;Object.keys(r.props.priceMap).forEach((function(a){0!==r.props.priceMap[a]&&(t++,setTimeout((function(){A("currently refreshing : "+a),e.refreshPrice(a)}),e.REFRESH_INTERVAL*t))})),setTimeout((function(){e.setState(Object(n.a)(Object(n.a)({},e.state),{},{isRefreshing:!1,currentItemNameForPriceRefresh:""}))}),e.REFRESH_INTERVAL*t)}))},r.state={apiKey:e.apiKey,isRefreshing:!1,currentItemNameForPriceRefresh:""},r}return Object(s.a)(a,[{key:"refreshPrice",value:function(e){var t=this;this.setState(Object(n.a)(Object(n.a)({},this.state),{},{currentItemNameForPriceRefresh:e}),(function(){t.props.refreshItemPriceInReduxStore(t.props.apiKey,e,t.props.itemsStore,t)}))}},{key:"render",value:function(){var e,t,a=this;return this.props.loading?(e="loading...",t="info"):null!==this.props.itemsStore&&this.props.itemsStore?(e="Update API Key",t="secondary"):(e="Initialise",t="primary"),o.a.createElement(d.a,null,o.a.createElement(E.a,null,o.a.createElement("hr",null)),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("h4",null,"Torn barter receipt generator")),o.a.createElement(f.a,null,o.a.createElement(y.a,{type:"text",placeholder:"Your API KEY goes here..",value:null===this.props.apiKey?"":this.props.apiKey,onChange:this.updateApiKey})),o.a.createElement(f.a,null,o.a.createElement(h.a,{color:t,onClick:function(){a.saveApiKeyAndInit()}},e),"\xa0\xa0\xa0",o.a.createElement(h.a,{color:"info",onClick:this.refreshPrices},"Fetch Latest Prices"))),o.a.createElement(E.a,null,o.a.createElement("hr",null)),o.a.createElement(E.a,null,o.a.createElement(b.a,{isOpen:this.state.isRefreshing},o.a.createElement(g.a,null,"Please wait"),o.a.createElement(S.a,null,""===this.state.currentItemNameForPriceRefresh?o.a.createElement("h6",null,"Calling Torn API.."):o.a.createElement("h6",null,"Fetching the latest price of ",this.state.currentItemNameForPriceRefresh,"..")),o.a.createElement(O.a,null))))}}]),a}(r.Component),H=Object(v.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateMarketItemDetailsInReduxStore:function(t){e(function(e){return localStorage.setItem("API_KEY",e),function(t){t(P()),_.a.get("https://api.torn.com/torn/?selections=items&key="+e).then((function(e){var a=[],n={idByName:{},nameById:{}};Object.entries(e.data.items).forEach((function(e){var t=Object(T.a)(e,2),r=t[0],o=t[1],l=parseInt(r),c=o.name;c.toLowerCase().includes("undefined")||(n.idByName[c]=l,n.nameById[l]=c,a.push(c))})),localStorage.setItem("MARKET_ITEMS",JSON.stringify(n)),localStorage.setItem("MARKET_ITEMS_SIMPLE",JSON.stringify(a)),t(j(n,a))})).catch((function(e){t(D(e.message))}))}}(t))},updateApiKeyInReduxStore:function(t){e({type:"API_KEY_UPDATED",payload:{apiKey:t}})},updateUserNameInReduxStore:function(t){e(function(e){return function(t){_.a.get("https://api.torn.com/user/?selections=profile&key="+e).then((function(e){var a=e.data.name;localStorage.setItem("YOUR_NAME",a),t(M(a))})).catch((function(e){t(x(e.message))}))}}(t))},refreshItemPriceInReduxStore:function(t,a,n,r){e(R(t,a,n,r,!0,(function(){Y(r.props.contexts.receivedItemComponentContext),B(r.props.contexts.sentItemComponentContext)})))}}}))(W),V=a(321),$=a(322),J=a(60);a(158);function X(e){var t=!1;return e.forEach((function(e){G(e)&&(t=!0)})),t}function z(e,t){return null===e.itemNameList?[]:e.itemNameList.filter((function(e){var a=!1;return t.forEach((function(t){t.name!==e||(a=!0)})),!a}))}function Q(e){return Z(e)||X(e.sent.items)||X(e.received.items)}function G(e){return""===e.name||0===e.mPrice||0===e.qty}function Z(e){return null===e.itemsNameList}var ee=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={totalPrice:n.props.received.total,rows:n.props.received.items,forceRecalculation:!1,type:"RECEIVED"},e.updateContextInReduxStore(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(d.a,null,o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("h4",null,"Received"))),o.a.createElement(E.a,null,o.a.createElement(V.a,{id:"receivedListTable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Item name"),o.a.createElement("th",null,"Quantity"),o.a.createElement("th",null,"Best Price"),o.a.createElement("th",null,"Total Price"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,this.state.rows.map((function(t,a){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,o.a.createElement(J.a,{id:"name_"+t.id,maxResults:5,disabled:null===e.props.itemNameList,onChange:function(a){F(a,t.id,e)},options:z(e.props,e.state.rows)})),o.a.createElement("td",null,o.a.createElement(y.a,{type:"number",disabled:null===e.props.itemNameList,name:"qty_"+t.id,value:t.qty,onChange:function(t){!function(e,t){var a=e.target.name.split("_")[0],n=e.target.name.split("_")[1],r=e.target.value;t.state.rows.forEach((function(e){e.id===n&&(e[a]=r)})),t.forceUpdate(),Y(t)}(t,e)},min:0})),o.a.createElement("td",null,o.a.createElement(y.a,{type:"number",name:"mPrice_"+t.id,value:t.mPrice,disabled:!0})),o.a.createElement("td",null,o.a.createElement(y.a,{type:"number",name:"tPrice_"+t.id,value:t.tPrice,disabled:!0})),o.a.createElement("td",null,o.a.createElement("div",null,o.a.createElement($.a,null,o.a.createElement(h.a,{color:"success",disabled:G(t)||Z(e.props),onClick:function(){var t;(t=e).state.rows.push({id:L(),name:"",qty:0,mPrice:0,tPrice:0}),t.forceUpdate(),Y(t)}},"+"),o.a.createElement(h.a,{color:"danger",disabled:1===e.state.rows.length||Z(e.props),onClick:function(){var a,n;a=t,(n=e).state.rows=n.state.rows.filter((function(e){return e.id!==a.id})),n.forceUpdate(),Y(n)}},"-")))))}))))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,"Total market price of items received: ",this.state.totalPrice)))}}]),a}(r.Component),te=Object(v.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateContextInReduxStore:function(t){e({type:"RECEIVED_ITEM_COMPONENT_CONTEXT_UPDATED",payload:{receivedItemComponentContext:t}})},updateReceivedItemsData:function(t,a,n,r,o){e(R(t,a,n,r,!1,o))},pushReceivedItemsDetail:function(t,a){e({type:"UPDATE_RECEIVED_ITEMS",payload:{received:{items:t,total:a}}})},pushTradeSummary:function(t){e({type:"UPDATE_TRADE_SUMMARY",payload:{summary:{balance:t}}})}}}))(ee),ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={totalPrice:n.props.sent.total,rows:n.props.sent.items,forceRecalculation:!1,type:"SENT"},e.updateContextInReduxStore(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(d.a,null,o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("h4",null,"Sent"))),o.a.createElement(E.a,null,o.a.createElement(V.a,{id:"sentListTable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Item name"),o.a.createElement("th",null,"Quantity"),o.a.createElement("th",null,"Best Price"),o.a.createElement("th",null,"Total Price"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,this.state.rows.map((function(t,a){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,o.a.createElement(J.a,{id:"name_"+t.id,maxResults:5,disabled:null===e.props.itemNameList,onChange:function(a){F(a,t.id,e)},options:z(e.props,e.state.rows)})),o.a.createElement("td",null,o.a.createElement(y.a,{type:"number",disabled:null===e.props.itemNameList,name:"qty_"+t.id,value:t.qty,onChange:function(t){!function(e,t){var a=e.target.name.split("_")[0],n=e.target.name.split("_")[1],r=e.target.value;t.state.rows.forEach((function(e){e.id===n&&(e[a]=r)})),t.forceUpdate(),B(t)}(t,e)},min:0})),o.a.createElement("td",null,o.a.createElement(y.a,{type:"number",name:"mPrice_"+t.id,value:t.mPrice,disabled:!0})),o.a.createElement("td",null,o.a.createElement(y.a,{type:"number",name:"tPrice_"+t.id,value:t.tPrice,disabled:!0})),o.a.createElement("td",null,o.a.createElement("div",null,o.a.createElement($.a,null,o.a.createElement(h.a,{color:"success",disabled:G(t)||Z(e.props),onClick:function(){var t;(t=e).state.rows.push({id:L(),name:"",qty:0,mPrice:0,tPrice:0}),t.forceUpdate(),B(t)}},"+"),o.a.createElement(h.a,{color:"danger",disabled:1===e.state.rows.length||Z(e.props),onClick:function(){var a,n;a=t,(n=e).state.rows=n.state.rows.filter((function(e){return e.id!==a.id})),n.forceUpdate(),B(n)}},"-")))))}))))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,"Total market price of items sent: ",this.state.totalPrice)))}}]),a}(r.Component),ne=Object(v.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateContextInReduxStore:function(t){e({type:"SENT_ITEM_COMPONENT_CONTEXT_UPDATED",payload:{sentItemComponentContext:t}})},updateSentItemsData:function(t,a,n,r,o){e(R(t,a,n,r,!1,o))},pushSentItemDetails:function(t,a){e({type:"UPDATE_SENT_ITEMS",payload:{sent:{items:t,total:a}}})},pushTradeSummary:function(t){e({type:"UPDATE_TRADE_SUMMARY",payload:{summary:{balance:t}}})}}}))(ae),re=a(163),oe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).toggleSummaryDialog=function(){r.setState(Object(n.a)(Object(n.a)({},r.state),{},{isSummaryDialogOpen:!r.state.isSummaryDialogOpen}))},r.copySummaryDataToClipboard=function(e){var t=Object(u.a)(r),a=document.getElementById("summaryText").innerText;re.a(a).then((function(){t.setState(Object(n.a)(Object(n.a)({},t.state),{},{showCopiedButtonName:!0}),(function(){window.setTimeout((function(){t.setState(Object(n.a)(Object(n.a)({},t.state),{},{showCopiedButtonName:!1}))}),1e3)}))}),(function(){console.error("failed to copy!")}))},r.state={received:r.props.received,sent:r.props.sent,tradeSummary:r.props.tradeSummary,isSummaryDialogOpen:!1,showCopiedButtonName:!1,forceRecalculation:!1},e.updateContextInReduxStore(Object(u.a)(r)),r}return Object(s.a)(a,[{key:"render",value:function(){var e,t="",a="green";return e=null!==this.props.itemsStore&&this.props.itemsStore?"primary":"secondary",this.props.tradeSummary.balance<0?t=this.props.tradeSummary.yourName+" gets $"+this.props.tradeSummary.balance+".":this.props.tradeSummary.balance>0?(a="red",t=this.props.tradeSummary.yourName+" needs to send an additional $"+this.props.tradeSummary.balance+"."):0===this.props.tradeSummary.balance&&(t="The trade is balanced."),o.a.createElement(d.a,null,o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement("h5",{style:{color:a}},t)),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement(h.a,{color:e,disabled:Q(this.props),onClick:this.toggleSummaryDialog},"Show Summary"),o.a.createElement(b.a,{isOpen:this.state.isSummaryDialogOpen,toggle:this.toggleSummaryDialog},o.a.createElement(g.a,{toggle:this.toggleSummaryDialog},"Trade Summary"),o.a.createElement(S.a,null,Q(this.props)?null:o.a.createElement("div",{id:"summaryText"},o.a.createElement("div",null,o.a.createElement("span",{style:{textDecoration:"underline"}},this.props.tradeSummary.yourName," received the following items, ","worth $"+this.props.received.total+" in total"),o.a.createElement("br",null)),o.a.createElement("div",null,this.props.received.items.map((function(e){return o.a.createElement("span",{key:e.id},o.a.createElement("span",{style:{fontWeight:"bold"}},e.name),o.a.createElement("span",{style:{color:"blue"}}," x"+e.qty)," at $",o.a.createElement("span",{style:{color:"green"}},e.mPrice),"  each, $",o.a.createElement("span",{style:{color:"green"}},e.tPrice)," in total",o.a.createElement("br",null))}))),o.a.createElement("span",null,o.a.createElement("br",null)),o.a.createElement("div",null,o.a.createElement("span",{style:{textDecoration:"underline"}},this.props.tradeSummary.yourName," sent the following items, ","worth $"+this.props.sent.total+" in total"),o.a.createElement("br",null)),o.a.createElement("div",null,this.props.sent.items.map((function(e){return o.a.createElement("span",{key:e.id},o.a.createElement("span",{style:{fontWeight:"bold"}},e.name),o.a.createElement("span",{style:{color:"blue"}}," x"+e.qty)," at $",o.a.createElement("span",{style:{color:"green"}},e.mPrice),"  each, $",o.a.createElement("span",{style:{color:"green"}},e.tPrice)," in total",o.a.createElement("br",null))}))),o.a.createElement("span",null,"----------------"),o.a.createElement("br",null),o.a.createElement("span",{style:{fontWeight:"bold"}},t))),o.a.createElement(O.a,null,o.a.createElement(h.a,{color:"primary",onClick:this.copySummaryDataToClipboard},this.state.showCopiedButtonName?"Copied!":"Copy To Clipboard")," ",o.a.createElement(h.a,{color:"secondary",onClick:this.toggleSummaryDialog},"Cancel")))))))}}]),a}(r.Component),le=Object(v.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateContextInReduxStore:function(t){e({type:"SUMMARY_DETAIL_COMPONENT_CONTEXT_UPDATED",payload:{summaryDetailComponentContext:t}})}}}))(oe),ce=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(f.a,null,o.a.createElement(E.a,null,o.a.createElement("br",null)),o.a.createElement(E.a,null,o.a.createElement("span",{style:{fontSize:"80%"}},o.a.createElement("i",null,"If you think this tool is useful & want to ",o.a.createElement("span",{style:{textDecoration:"line-through"}},"make me rich")," donate, or if the tool is broken, please click\xa0",o.a.createElement("a",{href:"https://www.torn.com/profiles.php?XID=2575642"},"here"))))))}}]),a}(r.Component);var ie=function(){return o.a.createElement(d.a,null,o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement(H,null))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement(te,null)),o.a.createElement(f.a,null,o.a.createElement(ne,null))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement(le,null))),o.a.createElement(E.a,null,o.a.createElement(f.a,null,o.a.createElement(ce,null))))};function se(){if(localStorage.getItem("MARKET_ITEMS_SIMPLE")){var e=JSON.parse(localStorage.getItem("MARKET_ITEMS_SIMPLE")),t={};return e.forEach((function(e){t[e]=0})),console.log("price map initialised successfully!"),t}console.error("price map failed to initialise as no items metadata was found!")}var ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var pe,de=a(35),Ee=a(88),fe=a(164),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{time:new Date,apiKey:localStorage.getItem("API_KEY"),received:{items:[{id:L(),name:"",qty:0,mPrice:0,tPrice:0}],total:0},sent:{items:[{id:L(),name:"",qty:0,mPrice:0,tPrice:0}],total:0},tradeSummary:{yourName:localStorage.getItem("YOUR_NAME"),theirName:"",balance:0},priceMap:se(),loading:!1,apiErrorMsg:"",apiCallSuccess:void 0,itemsStore:JSON.parse(localStorage.getItem("MARKET_ITEMS")),itemNameList:JSON.parse(localStorage.getItem("MARKET_ITEMS_SIMPLE")),contexts:{sentItemComponentContext:null,receivedItemComponentContext:null,summaryDetailComponentContext:null}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_KEY_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{apiKey:t.payload.apiKey,time:new Date});case"YOUR_NAME_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{tradeSummary:Object(n.a)(Object(n.a)({},e.tradeSummary),{},{yourName:t.payload.yourName}),time:new Date});case"MARKET_PRICE_FETCHED":var a=Object(n.a)({},e.priceMap);return a[t.payload.itemName]=t.payload.price,Object(n.a)(Object(n.a)({},e),{},{priceMap:a,time:new Date});case"UPDATE_RECEIVED_ITEMS":return Object(n.a)(Object(n.a)({},e),{},{received:t.payload.received,apiCallSuccess:void 0,loading:!1,time:new Date});case"UPDATE_SENT_ITEMS":return Object(n.a)(Object(n.a)({},e),{},{sent:t.payload.sent,apiCallSuccess:void 0,loading:!1,time:new Date});case"UPDATE_TRADE_SUMMARY":return Object(n.a)(Object(n.a)({},e),{},{tradeSummary:Object(n.a)(Object(n.a)({},e.tradeSummary),{},{balance:t.payload.summary.balance}),time:new Date});case"MARKET_ITEMS_FETCH_STARTED":return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload.loading,apiCallSuccess:void 0,time:new Date});case"MARKET_ITEMS_FETCH_SUCCESS":return Object(n.a)(Object(n.a)({},e),{},{priceMap:se(),loading:t.payload.loading,itemsStore:t.payload.itemsStore,itemNameList:t.payload.itemNameList,apiCallSuccess:!0,time:new Date});case"API_CALL_FAILED":return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload.loading,apiCallSuccess:!1,apiErrorMsg:t.payload.error,time:new Date});case"SENT_ITEM_COMPONENT_CONTEXT_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{contexts:Object(n.a)(Object(n.a)({},e.contexts),{},{sentItemComponentContext:t.payload.sentItemComponentContext})});case"RECEIVED_ITEM_COMPONENT_CONTEXT_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{contexts:Object(n.a)(Object(n.a)({},e.contexts),{},{receivedItemComponentContext:t.payload.receivedItemComponentContext})});case"SUMMARY_DETAIL_COMPONENT_CONTEXT_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{contexts:Object(n.a)(Object(n.a)({},e.contexts),{},{summaryDetailComponentContext:t.payload.summaryDetailComponentContext})});default:return e}};pe=localStorage.getItem("debug")?Object(de.c)(ye,Object(de.a)(Ee.a,fe.logger)):Object(de.c)(ye,Object(de.a)(Ee.a));var he=function(){return o.a.createElement(v.a,{store:pe},o.a.createElement(ie,null))};c.a.render(o.a.createElement(he,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/torn-trade",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/torn-trade","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(t,e)}))}}()}},[[167,1,2]]]);
//# sourceMappingURL=main.6643456a.chunk.js.map