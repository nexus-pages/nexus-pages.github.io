(this["webpackJsonptorn-trade-receipt-app"]=this["webpackJsonptorn-trade-receipt-app"]||[]).push([[0],{167:function(e,t,a){e.exports=a(312)},196:function(e,t){},198:function(e,t){},209:function(e,t){},211:function(e,t){},238:function(e,t){},240:function(e,t){},241:function(e,t){},247:function(e,t){},249:function(e,t){},267:function(e,t){},269:function(e,t){},281:function(e,t){},284:function(e,t){},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),l=a.n(r),o=a(23),c=a.n(o),i=(a(172),a(24)),s=a(25),u=a(21),m=a(28),p=a(27),d=a(314),E=a(315),f=a(316),y=a(317),h=a(318),b=a(324),S=a(319),g=a(320),O=a(321),T=a(26),I=a(165),P=a(166),v=a(34),C=a.n(v),_=function(e,t){return{type:"MARKET_ITEMS_FETCH_SUCCESS",payload:{loading:!1,itemsStore:Object(n.a)({},e),itemNameList:Object(I.a)(t)}}},j=function(){return{type:"MARKET_ITEMS_FETCH_STARTED",payload:{loading:!0}}},D=function(e){return{type:"API_CALL_FAILED",payload:{error:e,loading:!1}}};var A=function(e){localStorage.getItem("debug")&&console.log(e)},N=function(e,t,a,n,r,l){return function(o){var c=a.idByName[t],i="https://api.torn.com/market/"+c+"?selections=itemmarket&key="+e,s="https://api.torn.com/market/"+c+"?selections=bazaar&key="+e,u=n.props.priceMap[t];if(0===u||r){A("prices to be fetched from the API");var m=C.a.get(i),p=C.a.get(s);Promise.all([m,p]).then((function(e){var a=e[0].data.itemmarket,n=e[1].data.bazaar,r=0,c=0;null!==a&&a.length>0&&null!==a[0].cost&&(r=a[0].cost),null!==n&&n.length>0&&null!==n[0].cost&&(c=n[0].cost),M(t,c<r?c:r,o,l)})).catch((function(e){console.error(JSON.stringify(e)),e.forEach((function(e){o(R(e))}))}))}else A("price for "+t+" is already fetched, value = "+u),M(t,u,o,l)}},R=function(e){return{type:"API_CALL_FAILED",payload:{error:e,loading:!1}}};function M(e,t,a,n){a({type:"MARKET_PRICE_FETCHED",payload:{price:t,itemName:e}}),n()}var w=function(e){return{type:"YOUR_NAME_UPDATED",payload:{loading:!1,yourName:e}}},x=function(e){return{type:"API_CALL_FAILED",payload:{error:e,loading:!1}}},k=a(160);function L(){return k.randomBytes(16).toString("base64")}var K=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function U(e){var t=!1;return e.forEach((function(e){q(e)&&(t=!0)})),t}function F(e,t){return null===e.itemNameList?[]:e.itemNameList.filter((function(e){var a=!1;return t.forEach((function(t){t.name!==e||(a=!0)})),!a}))}function Y(e){return B(e)||U(e.sent.items)||U(e.received.items)}function q(e){return""===e.name||0===e.mPrice||0===e.qty}function B(e){return null===e.itemsNameList}function z(){return{id:L(),name:"",qty:0,mPrice:0,tPrice:0}}function H(){return{id:L(),name:"",qty:0,profitPercent:0,mPrice:0,tPrice:0,actualPrice:0,actualTotalPrice:0}}function V(e){return K.format(e)}function J(e,t,a){var n=0;return e.forEach((function(e){t.includes(e.name)&&(n+=a[e.name]*e.qty)})),n}function X(e,t,a){var n=e[0];a.state.rows.forEach((function(e){e.id===t&&(e.name=n,e.mPrice=0,e.tPrice=0,e.itemProfit&&(e.itemProfit=0),e.actualPrice&&(e.actualPrice=0),e.actualTotalPrice&&(e.actualTotalPrice=0))})),"RECEIVED"===a.state.type&&a.props.updateReceivedItemsData(a.props.apiKey,n,a.props.itemsStore,a,(function(){$(a)})),"SENT"===a.state.type&&a.props.updateSentItemsData(a.props.apiKey,n,a.props.itemsStore,a,(function(){Q(a)}))}function W(e,t){var a=e.target.name.split("_")[0],n=e.target.name.split("_")[1],r=e.target.value;t.state.rows.forEach((function(e){e.id===n&&(e[a]=r)})),t.forceUpdate(),$(t)}function Q(e){var t,a,r,l=J(e.state.rows,e.props.itemNameList,e.props.priceMap),o=(t=e.state.rows,a=e.props.itemNameList,r=e.props.priceMap,t.map((function(e){return a.includes(e.name)&&(e.mPrice=r[e.name],e.tPrice=e.qty*e.mPrice),Object(n.a)({},e)})));G(e,o,l),e.props.pushSentItemDetails(o,l),e.props.pushTradeSummary(e.props.received.totalActualPrice-l)}function $(e){var t,a,r,l=J(e.state.rows,e.props.itemNameList,e.props.priceMap),o=function(e,t,a){var n=0,r=0;return e.forEach((function(e){t.includes(e.name)&&(n+=a[e.name]*e.qty,r=n-n*e.profitPercent/100)})),r}(e.state.rows,e.props.itemNameList,e.props.priceMap),c=(t=e.state.rows,a=e.props.itemNameList,r=e.props.priceMap,t.map((function(e){if(a.includes(e.name)){var t=r[e.name];e.mPrice=t,e.actualPrice=t-t*e.profitPercent/100,e.tPrice=e.qty*e.mPrice,e.actualTotalPrice=e.qty*e.actualPrice}return Object(n.a)({},e)})));G(e,c,l,o),e.props.pushReceivedItemsDetail(c,l,o),e.props.pushTradeSummary(o-e.props.sent.total)}function G(e,t,a,r){r?e.setState(Object(n.a)(Object(n.a)({},e.state),{},{totalActualPrice:r,totalPrice:a,rows:t})):e.setState(Object(n.a)(Object(n.a)({},e.state),{},{totalPrice:a,rows:t}))}var Z=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).REFRESH_INTERVAL=3e3,r.updateApiKey=function(e){r.setState({apiKey:e.target.value}),r.props.updateApiKeyInReduxStore(e.target.value)},r.saveApiKeyAndInit=function(){localStorage.getItem("MARKET_ITEMS")?A("item details already present"):(A("item details not found in cache; thus, calling the items api now!"),r.props.updateMarketItemDetailsInReduxStore(r.state.apiKey),r.props.updateUserNameInReduxStore(r.state.apiKey))},r.refreshPrices=function(){r.setState(Object(n.a)(Object(n.a)({},r.state),{},{isRefreshing:!0}),(function(){var e=Object(u.a)(r),t=0;(function(e){var t=new Set;return e.received.items.forEach((function(e){""!==e.name&&t.add(e.name)})),e.sent.items.forEach((function(e){""!==e.name&&t.add(e.name)})),t})(r.props).forEach((function(a){0!==r.props.priceMap[a]&&(t++,setTimeout((function(){A("currently refreshing : "+a),e.refreshPrice(a)}),e.REFRESH_INTERVAL*t))})),setTimeout((function(){e.setState(Object(n.a)(Object(n.a)({},e.state),{},{isRefreshing:!1,currentItemNameForPriceRefresh:""}))}),e.REFRESH_INTERVAL*(t+1))}))},r.state={apiKey:e.apiKey,isRefreshing:!1,currentItemNameForPriceRefresh:""},r}return Object(s.a)(a,[{key:"refreshPrice",value:function(e){var t=this;this.setState(Object(n.a)(Object(n.a)({},this.state),{},{currentItemNameForPriceRefresh:e}),(function(){t.props.refreshItemPriceInReduxStore(t.props.apiKey,e,t.props.itemsStore,t)}))}},{key:"render",value:function(){var e,t,a=this;return this.props.loading?(e="loading...",t="info"):null!==this.props.itemsStore&&this.props.itemsStore?(e="Update API Key",t="secondary"):(e="Initialise",t="primary"),l.a.createElement(d.a,null,l.a.createElement("br",null),l.a.createElement(E.a,null,l.a.createElement(f.a,{xs:"auto"},l.a.createElement("h4",null,"Torn trade receipt generator")),l.a.createElement(f.a,null,l.a.createElement(y.a,{type:"text",placeholder:"Your API KEY goes here..",value:null===this.props.apiKey?"":this.props.apiKey,onChange:this.updateApiKey})),l.a.createElement(f.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,null,l.a.createElement(f.a,null,l.a.createElement(h.a,{color:t,onClick:function(){a.saveApiKeyAndInit()}},e)),l.a.createElement(f.a,null,l.a.createElement(h.a,{color:"info",onClick:this.refreshPrices},"Fetch Latest Prices")))))),l.a.createElement(E.a,null,l.a.createElement(b.a,{isOpen:this.state.isRefreshing},l.a.createElement(S.a,null,"Please wait"),l.a.createElement(g.a,null,""===this.state.currentItemNameForPriceRefresh?l.a.createElement("h6",null,"Calling Torn API.."):l.a.createElement("h6",null,"Fetching the latest price of ",this.state.currentItemNameForPriceRefresh,"..")),l.a.createElement(O.a,null))),l.a.createElement("br",null))}}]),a}(r.Component),ee=Object(T.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateMarketItemDetailsInReduxStore:function(t){e(function(e){return localStorage.setItem("API_KEY",e),function(t){t(j()),C.a.get("https://api.torn.com/torn/?selections=items&key="+e).then((function(e){var a=[],n={idByName:{},nameById:{}};Object.entries(e.data.items).forEach((function(e){var t=Object(P.a)(e,2),r=t[0],l=t[1],o=parseInt(r),c=l.name;c.toLowerCase().includes("undefined")||(n.idByName[c]=o,n.nameById[o]=c,a.push(c))})),localStorage.setItem("MARKET_ITEMS",JSON.stringify(n)),localStorage.setItem("MARKET_ITEMS_SIMPLE",JSON.stringify(a)),t(_(n,a))})).catch((function(e){t(D(e.message))}))}}(t))},updateApiKeyInReduxStore:function(t){e({type:"API_KEY_UPDATED",payload:{apiKey:t}})},updateUserNameInReduxStore:function(t){e(function(e){return function(t){C.a.get("https://api.torn.com/user/?selections=profile&key="+e).then((function(e){var a=e.data.name;localStorage.setItem("YOUR_NAME",a),t(w(a))})).catch((function(e){t(x(e.message))}))}}(t))},refreshItemPriceInReduxStore:function(t,a,n,r){e(N(t,a,n,r,!0,(function(){$(r.props.contexts.receivedItemComponentContext),Q(r.props.contexts.sentItemComponentContext)})))}}}))(Z),te=a(322),ae=a(323),ne=a(60),re=(a(158),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={totalPrice:n.props.received.total,totalActualPrice:n.props.received.totalActualPrice,rows:n.props.received.items,forceRecalculation:!1,type:"RECEIVED"},e.updateContextInReduxStore(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,null,"\xa0",l.a.createElement("h5",null,"Received")),l.a.createElement(E.a,null,l.a.createElement(te.a,{id:"receivedListTable",size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",{style:{fontSize:"0.85rem"}},l.a.createElement("th",null,"Item name"),l.a.createElement("th",{style:{width:"12%"}},"Qty"),l.a.createElement("th",null,"Market Price"),l.a.createElement("th",null,"Your Price"),l.a.createElement("th",null,"Total"),l.a.createElement("th",{style:{width:"10%"}},"Profit %"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.rows.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,l.a.createElement(ne.a,{id:"name_"+t.id,maxResults:5,disabled:null===e.props.itemNameList,onChange:function(a){X(a,t.id,e)},options:F(e.props,e.state.rows)})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",disabled:null===e.props.itemNameList,name:"qty_"+t.id,value:t.qty,onChange:function(t){W(t,e)},min:0})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",name:"mPrice_"+t.id,value:t.mPrice,disabled:!0})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",name:"actualPrice_"+t.id,value:t.actualPrice,disabled:!0})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",name:"actualTotalPrice_"+t.id,value:t.actualTotalPrice,disabled:!0})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",name:"profitPercent_"+t.id,value:t.profitPercent,onChange:function(t){W(t,e)}})),l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement(ae.a,null,l.a.createElement(h.a,{size:"sm",color:"success",disabled:q(t)||B(e.props),onClick:function(){var t;(t=e).state.rows.push(H()),t.forceUpdate(),$(t)}},"+"),l.a.createElement(h.a,{size:"sm",color:"danger",disabled:1===e.state.rows.length||B(e.props),onClick:function(){var a,n;a=t,(n=e).state.rows=n.state.rows.filter((function(e){return e.id!==a.id})),n.forceUpdate(),$(n)}},"-")))))}))))),l.a.createElement(E.a,null,l.a.createElement(f.a,null,"Total market price: ",V(this.state.totalPrice)),l.a.createElement(f.a,null,"Total price after profits: ",V(this.state.totalActualPrice))))}}]),a}(r.Component)),le=Object(T.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateContextInReduxStore:function(t){e({type:"RECEIVED_ITEM_COMPONENT_CONTEXT_UPDATED",payload:{receivedItemComponentContext:t}})},updateReceivedItemsData:function(t,a,n,r,l){e(N(t,a,n,r,!1,l))},pushReceivedItemsDetail:function(t,a,n){e({type:"UPDATE_RECEIVED_ITEMS",payload:{received:{items:t,total:a,totalActualPrice:n}}})},pushTradeSummary:function(t){e({type:"UPDATE_TRADE_SUMMARY",payload:{summary:{balance:t}}})}}}))(re),oe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={totalPrice:n.props.sent.total,rows:n.props.sent.items,forceRecalculation:!1,type:"SENT"},e.updateContextInReduxStore(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,null,"\xa0",l.a.createElement("h5",null,"Sent")),l.a.createElement(E.a,null,l.a.createElement(te.a,{id:"sentListTable",size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",{style:{fontSize:"0.85rem"}},l.a.createElement("th",null,"Item name"),l.a.createElement("th",{style:{width:"15%"}},"Qty"),l.a.createElement("th",null,"Market Price"),l.a.createElement("th",null,"Total"))),l.a.createElement("tbody",null,this.state.rows.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,l.a.createElement(ne.a,{id:"name_"+t.id,maxResults:5,disabled:null===e.props.itemNameList,onChange:function(a){X(a,t.id,e)},options:F(e.props,e.state.rows)})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",disabled:null===e.props.itemNameList,name:"qty_"+t.id,value:t.qty,onChange:function(t){!function(e,t){var a=e.target.name.split("_")[0],n=e.target.name.split("_")[1],r=e.target.value;t.state.rows.forEach((function(e){e.id===n&&(e[a]=r)})),t.forceUpdate(),Q(t)}(t,e)},min:0})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",name:"mPrice_"+t.id,value:t.mPrice,disabled:!0})),l.a.createElement("td",null,l.a.createElement(y.a,{type:"number",name:"tPrice_"+t.id,value:t.tPrice,disabled:!0})),l.a.createElement("td",null,l.a.createElement(ae.a,null,l.a.createElement(h.a,{size:"sm",color:"success",disabled:q(t)||B(e.props),onClick:function(){var t;(t=e).state.rows.push(z()),t.forceUpdate(),Q(t)}},"+"),l.a.createElement(h.a,{size:"sm",color:"danger",disabled:1===e.state.rows.length||B(e.props),onClick:function(){var a,n;a=t,(n=e).state.rows=n.state.rows.filter((function(e){return e.id!==a.id})),n.forceUpdate(),Q(n)}},"-"))))}))))),l.a.createElement(E.a,null,l.a.createElement(f.a,null,"Total market price of items sent: ",V(this.state.totalPrice))))}}]),a}(r.Component),ce=Object(T.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateContextInReduxStore:function(t){e({type:"SENT_ITEM_COMPONENT_CONTEXT_UPDATED",payload:{sentItemComponentContext:t}})},updateSentItemsData:function(t,a,n,r,l){e(N(t,a,n,r,!1,l))},pushSentItemDetails:function(t,a){e({type:"UPDATE_SENT_ITEMS",payload:{sent:{items:t,total:a}}})},pushTradeSummary:function(t){e({type:"UPDATE_TRADE_SUMMARY",payload:{summary:{balance:t}}})}}}))(oe),ie=a(163),se=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).toggleSummaryDialog=function(){r.setState(Object(n.a)(Object(n.a)({},r.state),{},{isSummaryDialogOpen:!r.state.isSummaryDialogOpen}))},r.copySummaryDataToClipboard=function(e){var t=Object(u.a)(r),a=document.getElementById("summaryText").innerText;ie.a(a).then((function(){t.setState(Object(n.a)(Object(n.a)({},t.state),{},{showCopiedButtonName:!0}),(function(){window.setTimeout((function(){t.setState(Object(n.a)(Object(n.a)({},t.state),{},{showCopiedButtonName:!1}))}),1e3)}))}),(function(){console.error("failed to copy!")}))},r.state={received:r.props.received,sent:r.props.sent,tradeSummary:r.props.tradeSummary,isSummaryDialogOpen:!1,showCopiedButtonName:!1,forceRecalculation:!1},e.updateContextInReduxStore(Object(u.a)(r)),r}return Object(s.a)(a,[{key:"render",value:function(){var e,t="",a="green";return e=null!==this.props.itemsStore&&this.props.itemsStore?"primary":"secondary",this.props.tradeSummary.balance<0?t=this.props.tradeSummary.yourName+" gets "+V(this.props.tradeSummary.balance)+".":this.props.tradeSummary.balance>0?(a="red",t=this.props.tradeSummary.yourName+" needs to send an additional "+V(this.props.tradeSummary.balance)+"."):0===this.props.tradeSummary.balance&&(t="The trade is balanced."),l.a.createElement(d.a,null,l.a.createElement(E.a,null,l.a.createElement(f.a,null,l.a.createElement("h5",{style:{color:a}},t)),l.a.createElement(E.a,null,l.a.createElement(f.a,null,l.a.createElement(h.a,{color:e,disabled:Y(this.props),onClick:this.toggleSummaryDialog},"Show Summary"),l.a.createElement(b.a,{isOpen:this.state.isSummaryDialogOpen,toggle:this.toggleSummaryDialog},l.a.createElement(S.a,{toggle:this.toggleSummaryDialog},"Trade Summary"),l.a.createElement(g.a,null,Y(this.props)?null:l.a.createElement("div",{id:"summaryText"},l.a.createElement("div",null,l.a.createElement("span",{style:{textDecoration:"underline"}},this.props.tradeSummary.yourName," received the following items, ","worth "+V(this.props.received.totalActualPrice)+" in total"),l.a.createElement("br",null)),l.a.createElement("div",null,this.props.received.items.map((function(e){return l.a.createElement("span",{key:e.id},l.a.createElement("span",{style:{fontWeight:"bold"}},e.name),l.a.createElement("span",{style:{color:"blue"}}," x"+e.qty)," at ",l.a.createElement("span",{style:{color:"green"}},V(e.actualPrice)),"  each, ",l.a.createElement("span",{style:{color:"green"}},V(e.actualTotalPrice))," in total",l.a.createElement("br",null))}))),l.a.createElement("span",null,l.a.createElement("br",null)),l.a.createElement("div",null,l.a.createElement("span",{style:{textDecoration:"underline"}},this.props.tradeSummary.yourName," sent the following items, ","worth "+V(this.props.sent.total)+" in total"),l.a.createElement("br",null)),l.a.createElement("div",null,this.props.sent.items.map((function(e){return l.a.createElement("span",{key:e.id},l.a.createElement("span",{style:{fontWeight:"bold"}},e.name),l.a.createElement("span",{style:{color:"blue"}}," x"+e.qty)," at ",l.a.createElement("span",{style:{color:"green"}},V(e.mPrice)),"  each, ",l.a.createElement("span",{style:{color:"green"}},V(e.tPrice))," in total",l.a.createElement("br",null))}))),l.a.createElement("span",null,"----------------"),l.a.createElement("br",null),l.a.createElement("span",{style:{fontWeight:"bold"}},t))),l.a.createElement(O.a,null,l.a.createElement(h.a,{color:"primary",onClick:this.copySummaryDataToClipboard},this.state.showCopiedButtonName?"Copied!":"Copy To Clipboard")," ",l.a.createElement(h.a,{color:"secondary",onClick:this.toggleSummaryDialog},"Cancel")))))))}}]),a}(r.Component),ue=Object(T.b)((function(e){return Object(n.a)({},e)}),(function(e){return{updateContextInReduxStore:function(t){e({type:"SUMMARY_DETAIL_COMPONENT_CONTEXT_UPDATED",payload:{summaryDetailComponentContext:t}})}}}))(se),me=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement(f.a,null,l.a.createElement(E.a,null,l.a.createElement("br",null)),l.a.createElement(E.a,null,l.a.createElement("span",{style:{fontSize:"80%"}},l.a.createElement("i",null,"If you think this tool is useful & want to ",l.a.createElement("span",{style:{textDecoration:"line-through"}},"make me rich")," donate, or if the tool is broken, please click\xa0",l.a.createElement("a",{href:"https://www.torn.com/profiles.php?XID=2575642"},"here"))))))}}]),a}(r.Component);a(311);var pe=function(){return l.a.createElement(d.a,null,l.a.createElement(E.a,null,l.a.createElement(ee,null)),l.a.createElement(E.a,null,l.a.createElement(f.a,{xs:"7"},l.a.createElement(le,null)),l.a.createElement(f.a,{xs:"5"},l.a.createElement(ce,null))),l.a.createElement("hr",null),l.a.createElement(E.a,null,l.a.createElement(ue,null)),l.a.createElement(E.a,null,l.a.createElement(me,null)))};function de(){if(localStorage.getItem("MARKET_ITEMS_SIMPLE")){var e=JSON.parse(localStorage.getItem("MARKET_ITEMS_SIMPLE")),t={};return e.forEach((function(e){t[e]=0})),console.log("price map initialised successfully!"),t}console.error("price map failed to initialise as no items metadata was found!")}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee,fe=a(35),ye=a(88),he=a(164),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{time:new Date,apiKey:localStorage.getItem("API_KEY"),received:{items:[H()],total:0,totalActualPrice:0},sent:{items:[z()],total:0},tradeSummary:{yourName:localStorage.getItem("YOUR_NAME"),theirName:"",balance:0},priceMap:de(),loading:!1,apiErrorMsg:"",apiCallSuccess:void 0,itemsStore:JSON.parse(localStorage.getItem("MARKET_ITEMS")),itemNameList:JSON.parse(localStorage.getItem("MARKET_ITEMS_SIMPLE")),contexts:{sentItemComponentContext:null,receivedItemComponentContext:null,summaryDetailComponentContext:null}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_KEY_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{apiKey:t.payload.apiKey,time:new Date});case"YOUR_NAME_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{tradeSummary:Object(n.a)(Object(n.a)({},e.tradeSummary),{},{yourName:t.payload.yourName}),time:new Date});case"MARKET_PRICE_FETCHED":var a=Object(n.a)({},e.priceMap);return a[t.payload.itemName]=t.payload.price,Object(n.a)(Object(n.a)({},e),{},{priceMap:a,time:new Date});case"UPDATE_RECEIVED_ITEMS":return Object(n.a)(Object(n.a)({},e),{},{received:t.payload.received,apiCallSuccess:void 0,loading:!1,time:new Date});case"UPDATE_SENT_ITEMS":return Object(n.a)(Object(n.a)({},e),{},{sent:t.payload.sent,apiCallSuccess:void 0,loading:!1,time:new Date});case"UPDATE_TRADE_SUMMARY":return Object(n.a)(Object(n.a)({},e),{},{tradeSummary:Object(n.a)(Object(n.a)({},e.tradeSummary),{},{balance:t.payload.summary.balance}),time:new Date});case"MARKET_ITEMS_FETCH_STARTED":return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload.loading,apiCallSuccess:void 0,time:new Date});case"MARKET_ITEMS_FETCH_SUCCESS":return Object(n.a)(Object(n.a)({},e),{},{priceMap:de(),loading:t.payload.loading,itemsStore:t.payload.itemsStore,itemNameList:t.payload.itemNameList,apiCallSuccess:!0,time:new Date});case"API_CALL_FAILED":return Object(n.a)(Object(n.a)({},e),{},{loading:t.payload.loading,apiCallSuccess:!1,apiErrorMsg:t.payload.error,time:new Date});case"SENT_ITEM_COMPONENT_CONTEXT_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{contexts:Object(n.a)(Object(n.a)({},e.contexts),{},{sentItemComponentContext:t.payload.sentItemComponentContext})});case"RECEIVED_ITEM_COMPONENT_CONTEXT_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{contexts:Object(n.a)(Object(n.a)({},e.contexts),{},{receivedItemComponentContext:t.payload.receivedItemComponentContext})});case"SUMMARY_DETAIL_COMPONENT_CONTEXT_UPDATED":return Object(n.a)(Object(n.a)({},e),{},{contexts:Object(n.a)(Object(n.a)({},e.contexts),{},{summaryDetailComponentContext:t.payload.summaryDetailComponentContext})});default:return e}};Ee=localStorage.getItem("debug")?Object(fe.c)(be,Object(fe.a)(ye.a,he.logger)):Object(fe.c)(be,Object(fe.a)(ye.a));var Se=function(){return l.a.createElement(T.a,{store:Ee},l.a.createElement(pe,null))};c.a.render(l.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[167,1,2]]]);
//# sourceMappingURL=main.8f27e065.chunk.js.map